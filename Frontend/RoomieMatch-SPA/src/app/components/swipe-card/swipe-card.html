<div class="card" [ngClass]="{'swiping-left': swipeDirection === 'left', 'swiping-right': swipeDirection === 'right'}">
    <!-- Card Image -->
    <div class="card-image"
        [style.background-image]="(user.room?.roomImage ? 'url(' + user.room?.roomImage + ')' : (user.profileImage ? 'url(' + user.profileImage + ')' : null))"
        [class.has-image]="user.room?.roomImage || user.profileImage">

        <!-- Show initial if no image -->
        <span *ngIf="!user.room?.roomImage && !user.profileImage">{{ user.firstName[0] }}</span>

        <!-- Price tag for rooms -->
        <div class="price-tag" *ngIf="user.room?.rent">
            {{ user.room.rent | currency:'DKK':'symbol':'1.0-0' }}/mo
        </div>
    </div>

    <!-- Card Content -->
    <div class="card-content">
        <!-- Room details if available -->
        <div class="room-details" *ngIf="user.room?.title">
            <h4 class="room-title">{{ user.room.title }}</h4>
            <p class="room-specs">
                <span *ngIf="user.room.location">ğŸ“ {{ user.room.location }}</span>
                <span *ngIf="user.room.sizeSqm"> Â· {{ user.room.sizeSqm }}mÂ²</span>
            </p>
        </div>

        <!-- User info -->
        <div class="header">
            <div class="user-info">
                <h3 class="name">{{ user.firstName }}, <span class="age">{{ user.age }}</span></h3>
            </div>
            <span class="badge" [ngClass]="user.userType === 'HAS_ROOM' ? 'badge-has-room' : 'badge-needs-room'">
                {{ user.userType === 'HAS_ROOM' ? 'Has Room' : 'Needs Room' }}
            </span>
        </div>

        <p class="bio">{{ user.bio || 'No details provided.' }}</p>

        <!-- Action buttons -->
        <div class="actions">
            <button class="btn-action btn-pass" (click)="onPass()">
                <span>âœ•</span>
            </button>
            <button class="btn-action btn-like" (click)="onLike()">
                <span>â™¥</span>
            </button>
        </div>
    </div>
</div>