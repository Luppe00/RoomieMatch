<!-- Premium Swipe Card with Overlay Design -->
<div class="card" *ngIf="user"
    [ngClass]="{'swiping-left': swipeDirection === 'left', 'swiping-right': swipeDirection === 'right'}">

    <!-- Full Card Image -->
    <div class="card-image"
        [style.background-image]="(user.room?.roomImage ? 'url(' + user.room?.roomImage + ')' : (user.profileImage ? 'url(' + user.profileImage + ')' : null))"
        [class.has-image]="user.room?.roomImage || user.profileImage">

        <!-- Placeholder Initial -->
        <span class="initial-placeholder" *ngIf="!user.room?.roomImage && !user.profileImage">{{ user.firstName[0]
            }}</span>

        <!-- Gradient Overlay for text readability -->
        <div class="card-overlay"></div>

        <!-- Info Overlay at Bottom -->
        <div class="card-info-overlay">
            <div class="user-badge"
                [ngClass]="{'badge-has-room': user.userType === 'HAS_ROOM', 'badge-needs-room': user.userType === 'NEEDS_ROOM'}">
                {{ user.userType === 'HAS_ROOM' ? 'ğŸ  Has Room' : 'ğŸ” Needs Room' }}
            </div>

            <h2 class="user-name">{{ user.firstName }}<span class="user-age">, {{ user.age }}</span></h2>

            <!-- Room Info -->
            <div class="room-info" *ngIf="user.userType === 'HAS_ROOM' && user.room">
                <span class="room-price">${{ user.room.rent }}/mo</span>
                <span class="room-location">ğŸ“ {{ user.room.location }}</span>
            </div>

            <p class="user-bio">{{ user.room?.description || user.bio || 'No details provided.' }}</p>
        </div>
    </div>

    <!-- Action Buttons Outside Card -->
    <div class="actions">
        <button class="btn-action btn-pass" (click)="$event.stopPropagation(); onPass()">
            <span>âœ•</span>
        </button>
        <button class="btn-action btn-like" (click)="$event.stopPropagation(); onLike()">
            <span>â™¥</span>
        </button>
    </div>
</div>